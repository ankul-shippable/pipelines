jobs:
  - name: manifest-job
    type: manifest
    steps:
      - IN: nginx-image

  - name: ECS-deploy
    type: deploy
    method: blueGreen  
    steps:
      - IN: manifest-job
      - IN: ECS-cluster

resources:
  - name: nginx-image
    type: image
    integration: "docker-subint"
    pointer:
      sourceName: "ankul/app"
    seed:
      versionName: latest
      
  - name: ECS-cluster
    type: cluster
    integration: "ecs-subint"
    versionTemplate:
      sourceName: "ecs-cluster"
      region: "us-west-2"
